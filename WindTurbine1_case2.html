<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="favicon.ico">

  <title>MOOC</title>
  <link href="css/bootstrap.css" rel="stylesheet">
  <link href="css/dashboard.css" rel="stylesheet">
  <link href="css/bootstrap-slider.min.css" rel="stylesheet">
</head>

<body>
  <nav class="navbar navbar-dark fixed-top bg-primary flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-12" href="#">Aeroacoustics: Noise Reduction Strategies for Mechanical Systems</a>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-md-2 d-none d-md-block bg-light sidebar">
        <div class="sidebar-sticky">
          <ul class="nav flex-column">
			<!-- 
			<li class="nav-item">
				<a class="nav-link "   href="index.html" target="_self">
					<span data-feather="file"></span>
					Jet<span class="sr-only">(current)</span>
				</a>
			</li>
			-->
            <li class="nav-item">
              <a class="nav-link active"  href="WindTurbine1.html"  target="_self">
                <span data-feather="file"></span>
                Wind Turbine Noise - Pressure fluctuations at the TE
              </a>
            </li>
			<!-- 
			<li class="nav-item">
				<a class="nav-link "  href="WindTurbine2.html"  target="_self">
					<span data-feather="file"></span>
					Wind Turbine-2
				</a>
			</li>

			<li class="nav-item">
				<a class="nav-link"  href="Propeller.html"  target="_self">
					<span data-feather="file"></span>
					Propeller
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link"  href="WingFlap.html"  target="_self">
					<span data-feather="file"></span>
					Wing-Flap
				</a>
			</li>
          -->
          </ul>
        </div>
      </nav>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Wind Turbine Noise-1</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group mr-2">
				<!-- 
				<button class="btn btn-sm btn-outline-secondary active" onclick="caseAction(this)">Case 1: Frequency ùùé</button>
				-->	
				<button class="btn btn-sm btn-outline-secondary" onclick="caseAction(this)">Case 2: Reference Location,xTE</button>
				<!-- 
				<button class="btn btn-sm btn-outline-secondary" onclick="caseAction(this)">Case 3: Airfoil</button> 
				<button class="btn btn-sm btn-outline-secondary" onclick="caseAction(this)">Case 4: Incoming wind velocity</button>
			    -->
            </div>
          </div>
        </div>

        <blockquote class="blockquote text-left">
          <p class="mb-0">In Amiet's trailing edge noise model, one of the most important input parameters is the spectrum of fluctuating wall pressure. Taking the APG (adverse pressure gradient) effect into account, it is presented as (Rozenberg and Robert, 2012) :
          </p>
        </blockquote>
        <div class="row">
          <!-- ÂÖ¨ÂºèÂõæÁâá -->
          <div class="col"><img src="img/wind_turbine_1/formula.png" alt=""></div>
          <!-- ÂºπÊ°ÜÂõæÁâá -->
          <div class="col">
            <img style="width:270px;height:100px" src="img/click.png" alt="" data-toggle="modal" data-target="#exampleModal">
          </div>
        </div>

        <div class="row" style="margin-top:30px;">
          <!-- <div class=""><img src="img/jet/jet-case1.png" alt=""></div> -->
          <div class="col">
            <h4 id="caseTitle" class="text-primary">Case 1: Frequency ùùé</h4>
          </div>

        </div>
        <!-- <div style="width:100%;height:1500px; background-color:goldenrod;"></div> -->
        <div class="row" style="margin-bottom:30px;">
          <div class="col-12">
            <h6 id="caseDesc">The jet is operating at Mj = 0.911 with D = 0.0508m, and the observer location is at 90
              deg to the jet
              axis at a distance of 72D.</h6>
          </div>
        </div>

        <div id="container" style="width: 60% margin: 0 auto"></div>

        <!-- silder bar -->
        <div id="sliderCase1Area">
          <div class="row">
            <div class="col-1">Frequency</div>
            <div class="col-11">
              <input id="sliderCase1" type="text" style="width:90%;padding-left: 100px;" data-slider-min="-1"
                data-slider-max="19" data-slider-step="1" data-slider-value="-1" />
            </div>
          </div>
        </div>

        <div id="sliderCase2Area" style="display:none">
          <div class="row">
            <div class="col-1">xTE=18mm
            </div>
            <div class="col-11">
              <input id="sliderCase21" type="text" style="width:90%;padding-left: 100px;" data-slider-min="-1"
                data-slider-max="19" data-slider-step="1" data-slider-value="-1" />
            </div>
          </div>

          <div class="row">
            <div class="col-1">xTE=77mm
            </div>
            <div class="col-11">
              <input id="sliderCase22" type="text" style="width:90%;padding-left: 100px;" data-slider-min="-1"
                data-slider-max="19" data-slider-step="1" data-slider-value="-1" />
            </div>
          </div>

        </div>

        <div id="sliderCase3Area" style="display:none">
          <div class="row">
            <div class="col-1">NACA0012	
            </div>
            <div class="col-11">
              <input id="sliderCase31" type="text" style="width:90%;padding-left: 100px;" data-slider-min="-1"
                data-slider-max="19" data-slider-step="1" data-slider-value="-1" />
            </div>
          </div>

          <div class="row">
            <div class="col-1">NACA5510
            </div>
            <div class="col-11">
              <input id="sliderCase32" type="text" style="width:90%;padding-left: 100px;" data-slider-min="-1"
                data-slider-max="20" data-slider-step="1" data-slider-value="-1" />
            </div>
          </div>

        </div>

        <div id="sliderCase4Area" style="display:none">
          <div class="row">
            <div class="col-1">Frequency 30 m/s	
            </div>
            <div class="col-11">
              <input id="sliderCase41" type="text" style="width:90%;padding-left: 100px;" data-slider-min="-1"
                data-slider-max="18" data-slider-step="1" data-slider-value="-1" />
            </div>
          </div>

          <div class="row">
            <div class="col-1">Frequency 50 m/s	
            </div>
            <div class="col-11">
              <input id="sliderCase42" type="text" style="width:90%;padding-left: 100px;" data-slider-min="-1"
                data-slider-max="18" data-slider-step="1" data-slider-value="-1" />
            </div>
          </div>

        </div>




    </div>

    </main>
  </div>
  </div>


  <!-- Modal -->
  <div class="modal fade" style="top:100px;left:-200px;" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <img src="img/wind_turbine_1/explain.png" alt="">
    </div>
  </div>


  <script src="js/jquery.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <script src="js/bootstrap-slider.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>



  <!-- icons -->
  <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
  <script>
    feather.replace();
  </script>
  <!-- icons end -->

  <script>
    var sidebtn = function (nav) {
      console.log($(nav));
      // let navTitle = $(nav).text().trim();
      // if('Wind Turbine' === navTitle){
      //   $(nav).
      // }
    }
  </script>



  <!-- ÂàùÂßãÂåñÊï∞ÊçÆ -->
  <script>
    let cases = [{
        title: 'Case 1: Frequency ùùé',
        desc: 'NACA0012 airfoil, with angle of attack of 0, at wind speed 69.5 m/s.'
      },
      {
        title: 'Case 2: Reference Location,xTE',
        desc: 'NACA0012 airfoil, with angle of attack of 0, at wind speed 69.5 m/s, for two chordwise positions upstream of the trailing edge (TE).'
      },
      {
        title: 'Case 3: Airfoil',
        desc: 'NACA0012 and NACA5510 airfoil, with angle of attack of 0, at wind speed 70 m/s.'
      },
      {
        title: 'Case 4: Incoming wind velocity',
        desc: 'NACA0015 airfoil, with angle of attack of 0, at wind speed 30 m/s, and 50 m/s.'
      }
    ]
    let case11Data = [
		[300.91, 79.95],
		[350.79, 80.63],
		[401.49, 81.13],
		[502.28, 81.89],
		[600.14, 82.34],
		[701.84, 82.66],
		[795.99, 82.84],
		[900.03, 82.88],
		[996.03, 82.92],
		[1238.78, 82.80],
		[1521.98, 82.50],
		[1994.76, 81.76],
		[2451.13, 80.97],
		[2993.65, 80.00],
		[3491.61, 79.04],
		[3985.68, 78.15],
		[4974.86, 76.38],
		[5893.23, 74.83],
		[7379.39, 72.64],
		[9471.79, 69.90]
    ];
    let case21Data = [
		[300.91, 79.95],
		[350.79, 80.63],
		[401.49, 81.13],
		[502.28, 81.89],
		[600.14, 82.34],
		[701.84, 82.66],
		[795.99, 82.84],
		[900.03, 82.88],
		[996.03, 82.92],
		[1238.78, 82.80],
		[1521.98, 82.50],
		[1994.76, 81.76],
		[2451.13, 80.99],
		[2993.65, 80.00],
		[3491.61, 79.04],
		[3985.68, 78.15],
		[4974.86, 76.38],
		[5893.23, 74.83],
		[7379.39, 72.64],
		[9471.79, 69.90]
    ];
    let case22Data = [
		[300.05, 79.35],
		[350.42, 79.92],
		[399.16, 80.51],
		[496.18, 81.22],
		[598.28, 81.75],
		[696.81, 82.20],
		[798.21, 82.48],
		[899.28, 82.72],
		[999.23, 82.80],
		[1293.25, 83.09],
		[1614.59, 83.13],
		[1999.11, 83.09],
		[2461.65, 82.87],
		[2989.49, 82.58],
		[3463.22, 82.36],
		[3989.93, 82.03],
		[4982.17, 81.46],
		[6067.78, 80.89],
		[7514.18, 80.22],
		[9947.14, 79.15]
    ];
    
    let case31Data = [
		[300.91, 79.95],
		[350.79, 80.63],
		[401.49, 81.13],
		[502.28, 81.89],
		[600.14, 82.34],
		[701.84, 82.66],
		[795.99, 82.84],
		[900.03, 82.88],
		[996.03, 82.92],
		[1238.78, 82.80],
		[1521.98, 82.50],
		[1994.76, 81.76],
		[2451.13, 80.99],
		[2993.65, 80.00],
		[3491.61, 79.04],
		[3985.68, 78.15],
		[4974.86, 76.38],
		[5893.23, 74.83],
		[7379.39, 72.64],
		[9471.79, 69.90]
    ];
    let case32Data = [
		[300.27, 86.24],
		[348.78, 87.01],
		[423.44, 87.84],
		[488.24, 88.44],
		[569.92, 89.00],
		[662.00, 89.42],
		[772.75, 89.77],
		[910.92, 90.01],
		[1000.00, 90.10],
		[1164.43, 90.09],
		[1376.01, 89.88],
		[1634.04, 89.52],
		[1935.70, 88.95],
		[2231.95, 88.20],
		[2683.24, 87.06],
		[3147.53, 85.66],
		[3629.24, 84.16],
		[4267.69, 82.22],
		[5018.45, 79.92],
		[5944.91, 76.99],
		[7007.91, 73.73]
    ]
    let case41Data = [
		[2.00, 38.06],
		[2.18, 42.28],
		[2.30, 44.35],
		[2.48, 46.44],
		[2.60, 47.42],
		[2.70, 47.96],
		[2.78, 47.96],
		[2.85, 47.78],
		[2.90, 47.42],
		[2.95, 47.04],
		[3.00, 46.65],
		[3.30, 42.28],
		[3.48, 38.06],
		[3.60, 34.81],
		[3.70, 32.04],
		[3.78, 29.54],
		[3.85, 26.02],
		[3.90, 23.52],
		[21.2, 43.95]
    ];
    let case42Data = [
	    [2.00, 61.40],
		[2.18, 65.69],
		[2.30, 68.56],
		[2.48, 71.72],
		[2.60, 73.22],
		[2.70, 73.87],
		[2.78, 74.12],
		[2.85, 74.03],
		[2.90, 73.78],
		[2.95, 73.52],
		[3.00, 72.98],
		[3.30, 66.53],
		[3.48, 60.26],
		[3.60, 53.98],
		[3.70, 48.46],
		[3.78, 43.81],
		[3.85, 39.08],
		[3.90, 34.81],
		[3.95, 30.88]
    ]
  </script>

  <!--  case ÊåâÈíÆÂàáÊç¢ -->
  <script>
    function caseAction(caseBtn) {
      console.log('case', $(caseBtn).text());
      let btnText = $(caseBtn).text().trim();
      if (cases[0].title === btnText) {
        console.log('case', "Case 1");
        $('.btn-outline-secondary').removeClass('active');
        $('.btn-outline-secondary').eq(0).addClass('active');
        $('#caseTitle').text(cases[0].title);
        $('#caseDesc').text(cases[0].desc);
        $('#sliderCase1Area').show();
        $('#sliderCase2Area').hide();
        $('#sliderCase3Area').hide();
        $('#sliderCase4Area').hide();
        //ËÆæÁΩÆhightcharts
        data = [];
        data11=[];data21=[];data22=[];data31=[];data32=[];data41=[];data42=[];
        if (chart.series.length===1) {
          let s = chart.series[0];
          chart.series[0] = [];
          chart.series[0].push(s);
        }else{
          chart.series[1].remove();
          chart.series[1].remove();
          chart.series[1].remove();
          chart.series[0].remove();
          chart.addSeries({
            data: [],
            name: 'Frequency',
            marker:{symbol:'circle',fillColor:'red'},
          });
        }


        chart.series[0].setData(data);
        chart.yAxis[0].update({
          max: 83,
          min: 68
        });
        chart.xAxis[0].update({
          max: 10000,
          min: 300
        });
        
      
        // $('#sliderCase1').attr('data-slider-value',-1);

      } else if (cases[1].title === btnText) {

        console.log('case', "Case 2");
        chart.series[0].name = '18mm';
        data11=[];data21=[];data22=[];data31=[];data32=[];data41=[];data42=[];
        chart.series[0].setData(data21);
        if (chart.series.length === 1) {
          chart.addSeries({
            data: [],
            name: '77mm',
            marker:{symbol:'circle',fillColor:'#70C1B3'},
          });

        }else{
          chart.series[1].remove();
          chart.addSeries({
            data: [],
            name: '77mm',
            marker:{symbol:'circle',fillColor:'#70C1B3'},
          });
        }

        $('.btn-outline-secondary').removeClass('active');
        $('.btn-outline-secondary').eq(1).addClass('active');
        $('#caseTitle').text(cases[1].title);
        $('#caseDesc').text(cases[1].desc);
        $('#sliderCase1Area').hide();
        $('#sliderCase2Area').show();
        $('#sliderCase3Area').hide();
        $('#sliderCase4Area').hide();
        // $('#sliderCase21').silder({value:0});

        chart.xAxis[0].update({
          max: 10000,
          min: 300
        });
        chart.yAxis[0].update({
          max: 84,
          min: 70
        });
        


      } else if (cases[2].title === btnText) {
        console.log('case', "Case 3");

        data11=[];data21=[];data22=[];data31=[];data32=[];data41=[];data42=[];
        chart.series[0].setData(data31);
        chart.series[0].name = 'MNACA0012';
        if (chart.series.length === 1) {

          chart.addSeries({
            data: [],
            name: 'NACA5510',
            marker:{symbol:'circle',fillColor:'#70C1B3'},
          });

          chart.redraw();
        }else{
          chart.series[1].remove();
          chart.addSeries({
            data: [],
            name: 'NACA5510',
            marker:{symbol:'circle',fillColor:'#70C1B3'},
          });
        }

        $('.btn-outline-secondary').removeClass('active');
        $('.btn-outline-secondary').eq(2).addClass('active');
        $('#caseTitle').text(cases[2].title);
        $('#caseDesc').text(cases[2].desc);
        $('#sliderCase1Area').hide();
        $('#sliderCase2Area').hide();
        $('#sliderCase3Area').show();
        $('#sliderCase4Area').hide();

        
        chart.xAxis[0].update({
          max: 10000,
          min: 300
        });
        chart.yAxis[0].update({
          max: 91,
          min: 70
        });
        
        

      }else if (cases[3].title === btnText) {

        data11=[];data21=[];data22=[];data31=[];data32=[];data41=[];data42=[];
        chart.series[0].setData(data31);
        chart.series[0].name = '30 m/s';
        if (chart.series.length === 1) {

          chart.addSeries({
            data: [],
            name: '50 m/s',
            marker:{symbol:'circle',fillColor:'#70C1B3'},
          });

          chart.redraw();
        }else{
          chart.series[1].remove();
          chart.addSeries({
            data: [],
            name: '50 m/s',
            marker:{symbol:'circle',fillColor:'#70C1B3'},
          });
        }

        $('.btn-outline-secondary').removeClass('active');
        $('.btn-outline-secondary').eq(3).addClass('active');
        $('#caseTitle').text(cases[3].title);
        $('#caseDesc').text(cases[3].desc);
        $('#sliderCase1Area').hide();
        $('#sliderCase2Area').hide();
        $('#sliderCase3Area').hide();
        $('#sliderCase4Area').show();

        chart.yAxis[0].update({
          max: 80,
          min: 20
        });
        chart.xAxis[0].update({
          max: 4,
          min: 2
        });
        
        

      }
    }
  </script>



  <!-- ÊªöÂä®Êù°‰∫ã‰ª∂ -->
  <script>
    let data = [],
   		data11 = [],
      data21 = [],
      data22 = [],
      data31 = [],
      data32 = [],
      data41 = [],
      data42 = [];
    $("#sliderCase1").slider();
    $("#sliderCase21").slider();
    $("#sliderCase22").slider();
    $("#sliderCase31").slider();
    $("#sliderCase32").slider();
    $("#sliderCase41").slider();
    $("#sliderCase42").slider();

    $("#sliderCase1").on("slide", function (slideEvt) {
      if (-1 === slideEvt.value) {
        data = [];
        chart.series[0].setData(data);
      } else {
        data.push(case11Data[slideEvt.value]);
        chart.series[0].setData(data);
        // console.log('sliderCase1,data',data);
      }
    });

    $("#sliderCase21").on("slide", function (slideEvt) {
      console.log('sliderCase21', slideEvt.value)
      if (-1 === slideEvt.value) {
        data21 = [];
        chart.series[0].setData(data21);
      } else {
        data21.push(case21Data[slideEvt.value]);
        chart.series[0].setData(data21);
        // console.log('sliderCase1,data',data);
      }
    });

    $("#sliderCase22").on("slide", function (slideEvt) {
      if (-1 === slideEvt.value) {
        data22 = [];
        chart.series[1].setData(data22);
      } else {
        data22.push(case22Data[slideEvt.value]);
        chart.series[1].setData(data22);
      }
    });

    $("#sliderCase31").on("slide", function (slideEvt) {
      if (-1 === slideEvt.value) {
        data31 = [];
        chart.series[0].setData(data31);
      } else {
        data31.push(case31Data[slideEvt.value]);
        chart.series[0].setData(data31);
      }
    });


    $("#sliderCase32").on("slide", function (slideEvt) {
      if (-1 === slideEvt.value) {
        data32 = [];
        chart.series[1].setData(data32);
      } else {
        data32.push(case32Data[slideEvt.value]);
        chart.series[1].setData(data32);
      }
    });

    $("#sliderCase41").on("slide", function (slideEvt) {
      if (-1 === slideEvt.value) {
        data41 = [];
        chart.series[0].setData(data41);
      } else {
        data41.push(case41Data[slideEvt.value]);
        chart.series[0].setData(data41);
      }
    });

    $("#sliderCase42").on("slide", function (slideEvt) {
      if (-1 === slideEvt.value) {
        data42 = [];
        chart.series[1].setData(data42);
      } else {
        data42.push(case42Data[slideEvt.value]);
        chart.series[1].setData(data42);
      }
    });
  </script>

  <!-- highcharts -->
  <script>
    Highcharts.setOptions({
      colors: ['#70C1B3', '#247BA0', '#F3FFBD', '#B2DBBF']
    });
    var chart = Highcharts.chart('container', {
	  credits: {
        enabled: false
      }, //ÂéªÊéâÁâàÊùÉ
      chart: {
        type: 'scatter',
        zoomType: 'xy'
      },
      title: {
        text: ' '
      },
      subtitle: {
        text: ' '
      },
      xAxis: {
        title: {
          enabled: true,
          text: 'Frequency'
        },
        startOnTick: true,
        endOnTick: true,
        showLastLabel: true,
        max: 10000,
        min: 300
      },
      yAxis: {
        title: {
          text: 'Phi_pp[dB/Hz]'
        },
        max: 83,
        min: 68
      },
      legend: {
        layout: 'vertical',
        align: 'left',
        verticalAlign: 'top',
        x: 50,
        y: 1,
        floating: true,
        // backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF',
        borderWidth: 1
      },
      plotOptions: {
        scatter: {
          marker: {
            radius: 5,
            fillColor:'#FF1654',
            states: {
              hover: {
                enabled: true,
                lineColor: 'rgb(100,100,100)'
              }
            }
          },
          states: {
            hover: {
              marker: {
                enabled: false
              }
            }
          },
          tooltip: {
            headerFormat: '<b>{series.name}</b><br>',
            pointFormat: 'dB/Hz	:{point.x}, value:{point.y}'
          }
        }
      },
      series: [{
        name: 'Frequency:',
        color: 'rgba(223, 83, 83, .5)',
        data: []
      }]
    });

    caseAction($('.btn-outline-secondary'));
  </script>

</body>

</html>
